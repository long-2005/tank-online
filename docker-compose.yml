version: '3.8'

services:
  auth-service:
    build: 
      context: ./services/auth
      dockerfile: Dockerfile
    command: npm start
    ports:
      - "5000:5000"
    environment:
      - PORT=5000
      - MONGO_URI=${MONGO_URI}
      - GAME_SERVER_URL=http://localhost:6000
    volumes:
      - ./services/auth:/app/services/auth
      - ./public:/app/public
      - ./index.html:/app/index.html

  game-service:
    build:
      context: ./services/game
      dockerfile: Dockerfile
    command: npm start
    ports:
      - "6000:6000"
    environment:
      - PORT=6000
      - MONGO_URI=${MONGO_URI}
    volumes:
      - ./services/game:/app/services/game

# Note: We need Dockerfiles in each service or use a generic node image.
# Using generic node image for simplicity if user has docker.
# Actually, let's just make it run with local node for now since user is on Windows/Local.
# Docker compose is good for structure but maybe overkill if user just wants to run locally.
# Let's keep this file as artifact but focus on running locally with npm scripts.
